(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-74274998"],{"0b42":function(e,t,r){var i=r("861d"),a=r("e8b5"),n=r("b622"),o=n("species");e.exports=function(e){var t;return a(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!a(t.prototype)?i(t)&&(t=t[o],null===t&&(t=void 0)):t=void 0),void 0===t?Array:t}},"0f4c":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"myTable",attrs:{id:"servicios"}},[r("vue-headful",{attrs:{title:"Servicios - Federación Tucumana de Mutuales"}}),r("h2",[e._v("Listado de Servicios")]),r("b-button",{staticClass:"mb-4",attrs:{title:"Recargar",variant:"light"},on:{click:e.testFetch}},[r("v-icon",{staticStyle:{color:"black"},attrs:{dark:""}},[e._v("mdi-cached")]),e._v(" Actualizar ")],1),r("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-alta",modifiers:{"modal-alta":!0}}],staticClass:"mb-4 ml-2",staticStyle:{color:"white"},attrs:{title:"Nuevo Servicio"},on:{click:function(t){return e.altaServicio()}}},[r("v-icon",{attrs:{dark:""}},[e._v(" mdi-plus ")]),e._v(" Nuevo Servicio ")],1),r("b-modal",{attrs:{id:"modal-alta","hide-footer":""},scopedSlots:e._u([{key:"modal-title",fn:function(){return[r("h5",{staticClass:"modal-title"},[e._v("Alta")])]},proxy:!0}])},[r("servicio-alta")],1),r("div",[r("b-input-group",{staticClass:"mb-2",attrs:{size:"sm"}},[r("b-input-group-prepend",{attrs:{"is-text":""}},[r("svg",{staticClass:"bi bi-search",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[r("path",{attrs:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"}})])]),r("b-form-input",{ref:"buscadorlista",attrs:{type:"text",placeholder:"Busque un registro"},on:{keyup:function(t){return e.buscarnow()}},model:{value:e.buscar,callback:function(t){e.buscar=t},expression:"buscar"}})],1)],1),r("b-table",{ref:"tablaregistros",attrs:{fields:e.fields,striped:"",sortable:"",responsive:"",hover:"",items:e.tabla_servicios,small:"","sticky-header":!0,"no-border-collapse":!1,"show-empty":"","per-page":e.perPage,"current-page":e.currentPage,id:"tablaregistros"},scopedSlots:e._u([{key:"empty",fn:function(){return[r("b",[e._v("No hay registros para mostrar")])]},proxy:!0},{key:"cell(servicio)",fn:function(t){return[e._v(" "+e._s(t.value.toUpperCase())+" ")]}},{key:"cell(action)",fn:function(t){return[r("div",{staticClass:"mt-3"},[r("b-button-group",[r("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-editar",modifiers:{"modal-editar":!0}}],attrs:{variant:"warning",id:"button-2",title:"Editar este registro"},on:{click:function(r){return e.editarServicio(t.item,t.index)}}},[r("v-icon",{staticClass:"mr-2"},[e._v(" mdi-pencil ")]),e._v(" Editar ")],1),r("b-button",{attrs:{variant:"danger",id:"button-3",title:"Eliminar este registro"},on:{click:function(r){return e.showModalinfo(t.item,t.index)}}},[r("v-icon",{staticClass:"mr-2"},[e._v(" mdi-delete ")]),e._v(" Eliminar ")],1)],1)],1)]}}])}),r("b-modal",{ref:"my-modal",attrs:{id:"modal_eliminar","hide-footer":"",title:"Eliminar","ok-only":""}},[r("div",{staticClass:"d-block text-center"},[r("h3",[e._v(" ¿Esta seguro de eliminar el servicio de '"+e._s(e.infoEliminar.servicio.servicio)+"' ? ")])]),r("b-button",{staticClass:"mt-2",attrs:{block:"",title:"Volver Atras"},on:{click:e.hideModal}},[e._v(" Volver Atras ")]),r("b-button",{staticClass:"mt-3",attrs:{variant:"danger",block:"",title:"Eliminar"},on:{click:function(t){return e.deleteServicio(e.infoEliminar.servicio.id_servicio)}}},[e._v(" Eliminar ")])],1),r("b-modal",{attrs:{id:"modal-editar","hide-footer":""},scopedSlots:e._u([{key:"modal-title",fn:function(){return[r("h5",{staticClass:"modal-title"},[e._v("Editar")])]},proxy:!0}])},[r("servicio-update",{attrs:{servicio:e.editar}})],1),r("b-container",{attrs:{fluid:""}},[r("b-col",{staticClass:"my-1"},[r("b-pagination",{attrs:{align:"center",pills:"","total-rows":e.rows,"per-page":e.perPage,"aria-controls":"table_servicios"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)],1)},a=[],n=r("1da1"),o=(r("96cf"),r("d3b7"),r("3ca3"),r("ddb0"),r("2b3d"),r("4de4"),r("caad"),r("2532"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h6",[e._v("Los campos en (*) son obligatorios")]),r("h4",[e._v("Datos ")]),r("b-form",{on:{submit:function(e){e.preventDefault()}}},[r("b-form-group",{attrs:{label:"*Nombre del servicio","label-for":"nombre"}},[r("b-form-input",{attrs:{id:"servicio",type:"text",placeholder:"*Ingrese el nombre del servicio",state:e.validacion.servicio.estado,"invalid-feedback":"Complete este campo",required:""},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()}},model:{value:e.servicio.servicio,callback:function(t){e.$set(e.servicio,"servicio",t)},expression:"servicio.servicio"}}),r("b-form-invalid-feedback",{attrs:{id:"nombre-live-feedback"}},[e._v(e._s(e.validacion.servicio.mensaje)+" ")])],1)],1),r("b-button",{staticClass:"mt-2",attrs:{variant:"success",block:""},on:{click:function(t){return t.preventDefault(),e.postServicios()}}},[e._v("Guardar")])],1)}),s=[],c=r("c03a"),l={data:function(){return{servicio:{},data:{},validacion:{servicio:{estado:null,mensaje:""}}}},methods:{getServicios:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=new c["a"],t.next=3,r.getData();case 3:e.data=t.sent;case 4:case"end":return t.stop()}}),t)})))()},postServicios:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=new c["a"],console.log(r.apiUrl),r.apiUrl.pathname="servicios/",t.next=5,r.postData(e.servicio);case 5:i=t.sent,e.cargarFeedback(i);case 7:case"end":return t.stop()}}),t)})))()},cargarFeedback:function(e){for(var t in this.validacion)this.validacion[t].estado=!0;for(var r in e)this.validacion[r].estado=!1,this.validacion[r].mensaje=e[r][0]}}},u=l,d=r("2877"),v=Object(d["a"])(u,o,s,!1,null,null,null),f=v.exports,p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h6",[e._v("Los campos en (*) son obligatorios")]),r("h4",[e._v("Datos ")]),r("b-form",[r("b-form-group",{attrs:{label:"*Nombre del servicio","label-for":"nombre"}},[r("b-form-input",{attrs:{id:"nombre",type:"text",placeholder:"*Ingrese el nombre del servicio",state:e.validacion.servicio.estado,"invalid-feedback":"Complete este campo",required:""},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()}},model:{value:e.servicio.servicio,callback:function(t){e.$set(e.servicio,"servicio",t)},expression:"servicio.servicio"}}),r("b-form-invalid-feedback",{attrs:{id:"servicio-live-feedback"}},[e._v(e._s(e.validacion.servicio.mensaje)+" ")])],1)],1),r("b-button",{staticClass:"mt-2",attrs:{variant:"success",block:""},on:{click:function(t){return e.putServicios()}}},[e._v("Modificar")])],1)},b=[],m=(r("159b"),r("bc3a")),h=r.n(m),g={props:{servicio:{}},data:function(){return{servicios:{},data:{},options:[{value:null,text:"Elija un servicio",disabled:!0}],validacion:{servicio:{estado:null,mensaje:""}}}},created:function(){this.getServicios()},methods:{getServicios:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=new c["a"],r.apiUrl.pathname="servicios/",t.next=4,r.getData(e.servicios);case 4:e.data=t.sent,e.data.forEach((function(t){var r={};r.value="http://localhost:8081/servicios/"+t.id_servicio+"/",r.text=t.servicio,console.log(r),e.options.push(r)}));case 6:case"end":return t.stop()}}),t)})))()},putServicios:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r="vacio",t.next=3,h.a.put("http://localhost:8081/servicios/"+e.servicio.id_servicio+"/",e.servicio).then((function(e){swal("Operación Exitosa"," ","success")})).catch((function(e){swal("¡ERROR!","Se ha detectado un problema ","error"),r=e.response.data}));case 3:e.cargarFeedback(r),console.log("respuesta:"),console.log(r);case 6:case"end":return t.stop()}}),t)})))()},cargarFeedback:function(e){var t;for(var r in console.log("respuestaAPI"),console.log(e),this.validacion)t=!e.hasOwnProperty(r),this.validacion[r].estado=t,console.log(r),t||(this.validacion[r].mensaje=e[r][0])}}},w=g,k=Object(d["a"])(w,p,b,!1,null,null,null),y=k.exports,x=new URL("http://localhost");x.pathname="servicios",x.port=8081;var _={components:{ServicioAlta:f,ServicioUpdate:y},data:function(){return{tabla_servicios:[],fields:[{key:"id_servicio",label:"Nº de servicio",sortable:!0},{key:"servicio",label:"Servicio",sortable:!0},{key:"action",label:"Acciones",variant:"secondary"}],totalRows:1,currentPage:1,perPage:20,buscar:"",editar:{},infoEliminar:{servicio:-1}}},computed:{rows:function(){return this.tabla_servicios.length},id:function(){return this.tabla_servicios.id_servicio},items:function(){var e=this;return tabla_servicios.filter((function(t){return t.id_servicio.toLowerCase().includes(e.buscar.toLowerCase())}))}},methods:{testFetch:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(x);case 3:return r=t.sent,t.next=6,r.json();case 6:i=t.sent,a=i.results,console.log(a),e.tabla_servicios=a,t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},editarServicio:function(e,t){this.editar=e},showModalinfo:function(e,t){this.infoEliminar.servicio=e,this.showModal()},showModal:function(){this.$refs["my-modal"].show()},hideModal:function(){this.$refs["my-modal"].hide()},altaServicio:function(){},deleteServicio:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:h.a.delete("http://localhost:8081/servicios/"+e+"/").then((function(e){swal("Operación Exitosa"," ","success"),console.log(e)})).catch((function(e){swal("¡ERROR!","Se ha detectado un problema ","error"),console.log(e)})).finally((function(){t.testFetch(),t.hideModal()}));case 1:case"end":return r.stop()}}),r)})))()},buscarnow:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,i,a,n,o,s,c,l,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(r=e.$refs.buscadorlista,i=r.value.toUpperCase(),a=document.getElementById("tablaregistros"),n=a.getElementsByTagName("tr"),s=1;s<n.length;s++)o=n[s].getElementsByTagName("td"),l=o[0].textContent||o[0].innerText,u=o[1].textContent||o[1].innerText,c=l+u,c.toUpperCase().indexOf(i)>-1?n[s].style.display="":n[s].style.display="none";case 5:case"end":return t.stop()}}),t)})))()}},beforeMount:function(){this.testFetch()}},E=_,C=(r("61b0"),Object(d["a"])(E,i,a,!1,null,"73a9b1e7",null));t["default"]=C.exports},"159b":function(e,t,r){var i=r("da84"),a=r("fdbc"),n=r("17c2"),o=r("9112");for(var s in a){var c=i[s],l=c&&c.prototype;if(l&&l.forEach!==n)try{o(l,"forEach",n)}catch(u){l.forEach=n}}},"17c2":function(e,t,r){"use strict";var i=r("b727").forEach,a=r("a640"),n=a("forEach");e.exports=n?[].forEach:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}},"1dde":function(e,t,r){var i=r("d039"),a=r("b622"),n=r("2d00"),o=a("species");e.exports=function(e){return n>=51||!i((function(){var t=[],r=t.constructor={};return r[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},2532:function(e,t,r){"use strict";var i=r("23e7"),a=r("5a34"),n=r("1d80"),o=r("577e"),s=r("ab13");i({target:"String",proto:!0,forced:!s("includes")},{includes:function(e){return!!~o(n(this)).indexOf(o(a(e)),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(e,t,r){var i=r("861d"),a=r("c6b6"),n=r("b622"),o=n("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==a(e))}},"4de4":function(e,t,r){"use strict";var i=r("23e7"),a=r("b727").filter,n=r("1dde"),o=n("filter");i({target:"Array",proto:!0,forced:!o},{filter:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},5554:function(e,t,r){},"5a34":function(e,t,r){var i=r("44e7");e.exports=function(e){if(i(e))throw TypeError("The method doesn't accept regular expressions");return e}},"61b0":function(e,t,r){"use strict";r("5554")},"65f0":function(e,t,r){var i=r("0b42");e.exports=function(e,t){return new(i(e))(0===t?0:t)}},a640:function(e,t,r){"use strict";var i=r("d039");e.exports=function(e,t){var r=[][e];return!!r&&i((function(){r.call(null,t||function(){throw 1},1)}))}},ab13:function(e,t,r){var i=r("b622"),a=i("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[a]=!1,"/./"[e](t)}catch(i){}}return!1}},b727:function(e,t,r){var i=r("0366"),a=r("44ad"),n=r("7b0b"),o=r("50c4"),s=r("65f0"),c=[].push,l=function(e){var t=1==e,r=2==e,l=3==e,u=4==e,d=6==e,v=7==e,f=5==e||d;return function(p,b,m,h){for(var g,w,k=n(p),y=a(k),x=i(b,m,3),_=o(y.length),E=0,C=h||s,S=t?C(p,_):r||v?C(p,0):void 0;_>E;E++)if((f||E in y)&&(g=y[E],w=x(g,E,k),e))if(t)S[E]=w;else if(w)switch(e){case 3:return!0;case 5:return g;case 6:return E;case 2:c.call(S,g)}else switch(e){case 4:return!1;case 7:c.call(S,g)}return d?-1:l||u?u:S}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},caad:function(e,t,r){"use strict";var i=r("23e7"),a=r("4d64").includes,n=r("44d2");i({target:"Array",proto:!0},{includes:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),n("includes")},e8b5:function(e,t,r){var i=r("c6b6");e.exports=Array.isArray||function(e){return"Array"==i(e)}}}]);
//# sourceMappingURL=chunk-74274998.41c24462.js.map