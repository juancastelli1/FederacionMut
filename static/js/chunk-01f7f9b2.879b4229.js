(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-01f7f9b2"],{"159b":function(e,t,a){var i=a("da84"),n=a("fdbc"),r=a("17c2"),o=a("9112");for(var s in n){var l=i[s],c=l&&l.prototype;if(c&&c.forEach!==r)try{o(c,"forEach",r)}catch(d){c.forEach=r}}},"17c2":function(e,t,a){"use strict";var i=a("b727").forEach,n=a("a640"),r=n("forEach");e.exports=r?[].forEach:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}},"47da":function(e,t,a){},a640:function(e,t,a){"use strict";var i=a("d039");e.exports=function(e,t){var a=[][e];return!!a&&i((function(){a.call(null,t||function(){throw 1},1)}))}},e8f4:function(e,t,a){"use strict";a("47da")},fa86:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"myTable",attrs:{id:"medicamentos"}},[i("vue-headful",{attrs:{title:"Medicamentos - Federación Tucumana de Mutuales"}}),i("h2",[e._v("Listado de Medicamentos")]),i("b-button",{staticClass:"mb-4",attrs:{title:"Recargar",variant:"light"},on:{click:e.testFetch}},[i("v-icon",{staticStyle:{color:"black"},attrs:{dark:""}},[e._v("mdi-cached")]),e._v(" Actualizar ")],1),i("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-alta",modifiers:{"modal-alta":!0}}],staticClass:"mb-4 ml-2",staticStyle:{color:"white"},attrs:{title:"Nuevo Medicamento"},on:{click:function(t){return e.altaMedicamento()}}},[i("v-icon",{attrs:{dark:""}},[e._v(" mdi-plus ")]),e._v(" Nuevo Medicamento ")],1),i("b-modal",{attrs:{id:"modal-alta","hide-footer":""},scopedSlots:e._u([{key:"modal-title",fn:function(){return[i("h5",{staticClass:"modal-title"},[e._v("Alta")])]},proxy:!0}])},[i("medicamento-alta")],1),i("b-button",{staticClass:"mb-4 ml-2",staticStyle:{color:"white"},attrs:{id:"btn_down_pdf",title:"Generar PDF",variant:"danger",disabled:e.btn_down_pdf},on:{click:function(t){return e.generarPDF()}}},[i("svg",{staticClass:"bi bi-file-pdf-fill",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[i("path",{attrs:{d:"M5.523 10.424c.14-.082.293-.162.459-.238a7.878 7.878 0 0 1-.45.606c-.28.337-.498.516-.635.572a.266.266 0 0 1-.035.012.282.282 0 0 1-.026-.044c-.056-.11-.054-.216.04-.36.106-.165.319-.354.647-.548zm2.455-1.647c-.119.025-.237.05-.356.078a21.035 21.035 0 0 0 .5-1.05 11.96 11.96 0 0 0 .51.858c-.217.032-.436.07-.654.114zm2.525.939a3.888 3.888 0 0 1-.435-.41c.228.005.434.022.612.054.317.057.466.147.518.209a.095.095 0 0 1 .026.064.436.436 0 0 1-.06.2.307.307 0 0 1-.094.124.107.107 0 0 1-.069.015c-.09-.003-.258-.066-.498-.256zM8.278 4.97c-.04.244-.108.524-.2.829a4.86 4.86 0 0 1-.089-.346c-.076-.353-.087-.63-.046-.822.038-.177.11-.248.196-.283a.517.517 0 0 1 .145-.04c.013.03.028.092.032.198.005.122-.007.277-.038.465z"}}),i("path",{attrs:{"fill-rule":"evenodd",d:"M4 0h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm.165 11.668c.09.18.23.343.438.419.207.075.412.04.58-.03.318-.13.635-.436.926-.786.333-.401.683-.927 1.021-1.51a11.64 11.64 0 0 1 1.997-.406c.3.383.61.713.91.95.28.22.603.403.934.417a.856.856 0 0 0 .51-.138c.155-.101.27-.247.354-.416.09-.181.145-.37.138-.563a.844.844 0 0 0-.2-.518c-.226-.27-.596-.4-.96-.465a5.76 5.76 0 0 0-1.335-.05 10.954 10.954 0 0 1-.98-1.686c.25-.66.437-1.284.52-1.794.036-.218.055-.426.048-.614a1.238 1.238 0 0 0-.127-.538.7.7 0 0 0-.477-.365c-.202-.043-.41 0-.601.077-.377.15-.576.47-.651.823-.073.34-.04.736.046 1.136.088.406.238.848.43 1.295a19.707 19.707 0 0 1-1.062 2.227 7.662 7.662 0 0 0-1.482.645c-.37.22-.699.48-.897.787-.21.326-.275.714-.08 1.103z"}})]),e._v(" Generar PDF ")]),i("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-eliminarTodo",modifiers:{"modal-eliminarTodo":!0}}],staticClass:"mb-4 ml-2",staticStyle:{color:"white"},attrs:{variant:"danger",id:"btn_del_full",title:"Eliminar todos los registros",disabled:e.btn_del_full}},[i("v-icon",{staticClass:"mr-2",staticStyle:{color:"white"}},[e._v(" mdi-delete ")]),e._v(" Eliminar todos los registros ")],1),i("div",[i("b-modal",{ref:"my-modal",attrs:{id:"modal-eliminarTodo","hide-footer":"",title:"Eliminar","ok-only":""}},[e.selected.length===e.rows?i("div",{staticClass:"d-block text-center"},[i("h3",[e._v("¿Esta seguro de eliminar todos los registros ?")])]):i("div",{staticClass:"d-block text-center"},[i("h3",[e._v("¿Esta seguro de eliminar "+e._s(e.selected.length)+" registros ?")])]),i("b-button",{staticClass:"mt-2",attrs:{block:"",title:"Volver Atras"},on:{click:e.hideModal}},[e._v(" Volver Atras ")]),i("b-button",{staticClass:"mt-3",attrs:{variant:"danger",block:"",title:"Eliminar"},on:{click:function(t){return e.delete_all_Medicamentos()}}},[e._v(" Eliminar ")])],1)],1),i("div",[i("b-input-group",{staticClass:"mb-2",attrs:{size:"sm"}},[i("b-input-group-prepend",{attrs:{"is-text":""}},[i("svg",{staticClass:"bi bi-search",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[i("path",{attrs:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"}})])]),i("b-form-input",{ref:"buscadorlista",attrs:{type:"text",placeholder:"Busque un registro"},on:{keyup:function(t){return e.buscarnow()}},model:{value:e.buscar,callback:function(t){e.buscar=t},expression:"buscar"}})],1)],1),e.rows>0?i("div",[e.selected.length>0?i("div",[i("pre",[e._v("Cantidad de registros: "+e._s(e.rows)+" | Filas seleccionadas: "+e._s(e.selected.length))])]):i("div",[i("pre",[e._v("Cantidad de registros: "+e._s(e.rows))])]),i("b-button",{staticClass:"mb-4 ml-2",staticStyle:{color:"white"},attrs:{size:"sm",title:"Seleccionar Todo",disabled:e.btn_select},on:{click:e.seleccionar_todas}},[e._v(" Seleccionar Todo ")]),i("b-button",{staticClass:"mb-4 ml-2",staticStyle:{color:"white"},attrs:{size:"sm",title:"Limpiar Seleccion",disabled:e.btn_limpiar},on:{click:e.limpiar_seleccion}},[e._v(" Limpiar Seleccion ")])],1):i("div",[i("pre",[e._v("Cantidad de registros: "+e._s(e.rows))])]),i("b-table",{ref:"tablaregistros",attrs:{fields:e.fields,striped:"",sortable:"",responsive:"",hover:"",items:e.tabla_med,"show-empty":"","sticky-header":!0,"no-border-collapse":!1,id:"tablaregistros",selectable:"","select-mode":"multi"},on:{"row-selected":e.seleccionar_una},scopedSlots:e._u([{key:"empty",fn:function(){return[i("b",[e._v(e._s(e.msj_tabla))])]},proxy:!0},{key:"cell(selected)",fn:function(t){var a=t.rowSelected;return[a?[i("span",{attrs:{"aria-hidden":"true"}},[e._v("✓")]),i("span",{staticClass:"sr-only"},[e._v("Selected")])]:[i("span",{attrs:{"aria-hidden":"true"}},[e._v(" ")]),i("span",{staticClass:"sr-only"},[e._v("Not selected")])]]}},{key:"cell(cod_farmacia)",fn:function(t){return[e._v(" "+e._s(t.value.split("/")[4])+" ")]}},{key:"cell(action)",fn:function(t){return[i("div",{staticClass:"mt-3"},[i("b-button-group",[i("b-button",{attrs:{variant:"info",id:"button-1",title:"Mostrar Info",disabled:e.btn_mostrar},on:{click:t.toggleDetails}},[e._v(" "+e._s(t.detailsShowing?"Ocultar":"Mostrar")+" Detalles ")]),i("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-editar",modifiers:{"modal-editar":!0}}],attrs:{variant:"warning",id:"button-2",title:"Editar este registro",disabled:e.btn_editar},on:{click:function(a){return e.editarMedicamento(t.item,t.index)}}},[i("v-icon",{staticClass:"mr-2"},[e._v(" mdi-pencil ")]),e._v(" Editar ")],1),i("b-modal",{attrs:{id:"modal-editar","hide-footer":""},scopedSlots:e._u([{key:"modal-title",fn:function(){return[i("h5",{staticClass:"modal-title"},[e._v("Editar")])]},proxy:!0}],null,!0)},[i("medicamento-update",{attrs:{item_med:e.editar}})],1),i("b-button",{attrs:{variant:"danger",id:"button-3",title:"Eliminar este registro",disabled:e.btn_eliminar},on:{click:function(a){return e.showModalinfo(t.item,t.index)}}},[i("v-icon",{staticClass:"mr-2"},[e._v(" mdi-delete ")]),e._v(" Eliminar ")],1)],1)],1)]}},{key:"row-details",fn:function(t){return[i("b-card",[i("b-list-group",{attrs:{horizontal:""}},[i("b-list-group",[i("b-list-group-item",[i("b",[e._v("Nombre :")]),e._v(" "+e._s(t.item.nombre.toUpperCase()))]),i("b-list-group-item",[i("b",[e._v("Presentacion:")]),e._v(" "+e._s(t.item.presentacion))]),i("b-list-group-item",[i("b",[e._v("Laboratorio:")]),e._v(" "+e._s(t.item.laboratorio))]),i("b-list-group-item",[i("b",[e._v("Farmacia:")]),e._v(" "+e._s(t.item.cod_farmacia.split("/")[4]))])],1),e._v("   ")],1)],1)]}}])}),i("b-modal",{ref:"my-modal",attrs:{id:"modal_eliminar","hide-footer":"",title:"Eliminar","ok-only":""}},[i("div",{staticClass:"d-block text-center"},[i("h3",[e._v("¿Esta seguro de eliminar los datos de '"+e._s(e.infoEliminar.medicamento.nombre)+"'?")])]),i("b-button",{staticClass:"mt-2",attrs:{block:"",title:"Volver Atras"},on:{click:e.hideModal}},[e._v(" Volver Atras ")]),i("b-button",{staticClass:"mt-3",attrs:{variant:"danger",block:"",title:"Eliminar"},on:{click:function(t){return e.deleteMedicamento(e.infoEliminar.medicamento.id_medicamento)}}},[e._v(" Eliminar ")])],1),i("vue-html2pdf",{ref:"html2Pdf",attrs:{"show-layout":!1,"float-layout":!0,"enable-download":!1,"preview-modal":!0,"paginate-elements-by-height":1400,filename:"Listado de Medicamentos","pdf-quality":2,"manual-pagination":!1,"pdf-format":"a4","pdf-orientation":"portrait","pdf-content-width":"80%"},on:{progress:function(t){return e.onProgress(t)},startPagination:function(t){return e.startPagination()},hasPaginated:function(t){return e.hasPaginated()},beforeDownload:function(t){return e.beforeDownload(t)},hasDownloaded:function(t){return e.hasDownloaded(t)}}},[i("section",{attrs:{slot:"pdf-content"},slot:"pdf-content"},[i("section",{staticClass:"pdf-item"},[i("h3",[e._v("Federación Tucumana de Mutuales")]),i("img",{attrs:{src:a("b640"),alt:"Logo Federación",srcset:"",id:"Logo_fed"}})]),i("section",{staticClass:"pdf-item"},[i("h3",[e._v("Listado de Medicamentos")]),i("b-table",{attrs:{fields:"action"!=e.fields,responsive:"",items:e.tabla_med,"no-border-collapse":!1,small:"",fixed:"",bordered:"","head-variant":"light"},scopedSlots:e._u([{key:"cell(cod_farmacia)",fn:function(t){return[e._v(" "+e._s(t.value.split("/")[4])+" ")]}}])})],1)])])],1)},n=[],r=a("1da1"),o=(a("96cf"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h6",[e._v("Los campos en (*) son obligatorios")]),a("h4",[e._v("Datos ")]),a("b-form",{on:{submit:function(e){e.stopPropagation(),e.preventDefault()}}},[a("b-form-group",{attrs:{label:"*ID","label-for":"id_medicamento"},on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[a("b-form-input",{attrs:{id:"id_medicamento",type:"number",state:e.validacion.id_medicamento.estado,placeholder:"Ingrese un Numero","invalid-feedback":"Complete este campo",required:""},model:{value:e.medicamentos.id_medicamento,callback:function(t){e.$set(e.medicamentos,"id_medicamento",t)},expression:"medicamentos.id_medicamento"}}),a("b-form-invalid-feedback",{attrs:{id:"id_medicamento-live-feedback"}},[e._v(" "+e._s(e.validacion.id_medicamento.mensaje)+" ")])],1),a("b-form-group",{attrs:{label:"*Nombre","label-for":"nombre"},on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[a("b-form-input",{attrs:{id:"nombre",type:"text",placeholder:"Ingrese el nombre","invalid-feedback":"Complete este campo",state:e.validacion.nombre.estado,required:""},model:{value:e.medicamentos.nombre,callback:function(t){e.$set(e.medicamentos,"nombre",t)},expression:"medicamentos.nombre"}}),a("b-form-invalid-feedback",{attrs:{id:"nombre-live-feedback"}},[e._v(" "+e._s(e.validacion.nombre.mensaje)+" ")])],1),a("b-form-group",{attrs:{label:"*Presentacion","label-for":"presentacion"},on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[a("b-form-textarea",{attrs:{id:"presentacion",type:"text",placeholder:"Describa la presentacion","invalid-feedback":"Complete este campo",state:e.validacion.presentacion.estado,required:"",rows:"3","max-rows":"6"},model:{value:e.medicamentos.presentacion,callback:function(t){e.$set(e.medicamentos,"presentacion",t)},expression:"medicamentos.presentacion"}}),a("b-form-invalid-feedback",{attrs:{id:"presentacion-live-feedback"}},[e._v(" "+e._s(e.validacion.presentacion.mensaje)+" ")])],1),a("b-form-group",{attrs:{label:"*Laboratorio","label-for":"laboratorio"},on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[a("b-form-input",{attrs:{id:"laboratorio",type:"text",state:e.validacion.laboratorio.estado,placeholder:"Ingrese el nombre","invalid-feedback":"Complete este campo","aria-describedby":"input-live-help input-live-feedback",required:""},model:{value:e.medicamentos.laboratorio,callback:function(t){e.$set(e.medicamentos,"laboratorio",t)},expression:"medicamentos.laboratorio"}},[a("b-form-invalid-feedback",{attrs:{id:"input-live-feedback"}},[e._v(" Debe ingresar al menos 100 caracteres. ")])],1),a("b-form-invalid-feedback",{attrs:{id:"laboratorio-live-feedback"}},[e._v(" "+e._s(e.validacion.laboratoriomensaje)+" ")])],1),a("b-form-group",{attrs:{label:"*Farmacia","label-for":"cod_farmacia"},on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[a("b-form-select",{attrs:{id:"cod_farmacia",type:"text",placeholder:"Ingrese un Numero","invalid-feedback":"Complete este campo",required:"",state:e.validacion.cod_farmacia.estado,options:e.options},model:{value:e.medicamentos.cod_farmacia,callback:function(t){e.$set(e.medicamentos,"cod_farmacia",t)},expression:"medicamentos.cod_farmacia"}}),a("b-form-invalid-feedback",{attrs:{id:"cod_farmacia-live-feedback"}},[e._v(" "+e._s(e.validacion.cod_farmacia.mensaje)+" ")])],1)],1),a("b-button",{staticClass:"mt-2",attrs:{variant:"success",block:""},on:{click:function(t){return e.postMedicamento()}}},[e._v("Guardar")])],1)}),s=[],l=(a("159b"),a("c03a")),c={data:function(){return{medicamentos:{},farmacias:{},data:{},options:[{value:null,text:"Elija una farmacia",disabled:!0}],text:"",validacion:{id_medicamento:{estado:null,mensaje:""},nombre:{estado:null,mensaje:""},presentacion:{estado:null,mensaje:""},laboratorio:{estado:null,mensaje:""},cod_farmacia:{estado:null,mensaje:""}}}},methods:{getFarmacias:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new l["a"],a.apiUrl.pathname="farmacias/",t.next=4,a.getData(e.farmacias);case 4:e.data=t.sent,e.data.forEach((function(t){var a={};a.value="http://localhost:8081/farmacias/"+t.cod_farmacia+"/",a.text=t.farmacia,console.log(a),e.options.push(a)}));case 6:case"end":return t.stop()}}),t)})))()},postMedicamento:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new l["a"],a.apiUrl.pathname="medicamentos/",t.next=4,a.postData(e.medicamentos);case 4:i=t.sent,e.cargarFeedback(i),e.resetForm();case 7:case"end":return t.stop()}}),t)})))()},resetForm:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.medicamentos.id_medicamento=null,e.medicamentos.nombre="",e.medicamentos.presentacion="",e.medicamentos.laboratorio="",e.medicamentos.cod_farmacia="";case 5:case"end":return t.stop()}}),t)})))()},cargarFeedback:function(e){for(var t in this.validacion)this.validacion[t].estado=!0;for(var a in e)this.validacion[a].estado=!1,this.validacion[a].mensaje=e[a][0]}},beforeMount:function(){this.getFarmacias()}},d=c,m=a("2877"),u=Object(m["a"])(d,o,s,!1,null,null,null),b=u.exports,f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h6",[e._v("Los campos en (*) son obligatorios")]),a("h4",[e._v("Datos ")]),a("b-form",[a("b-form-group",{attrs:{label:"*ID"}},[a("b-form-input",{attrs:{id:"id_medicamento",disabled:!0,type:"number",placeholder:"Ingrese un Numero","invalid-feedback":"Complete este campo",required:""},model:{value:e.item_med.id_medicamento,callback:function(t){e.$set(e.item_med,"id_medicamento",t)},expression:"item_med.id_medicamento"}})],1),a("b-form-group",{attrs:{label:"*Nombre"}},[a("b-form-input",{attrs:{id:"nombre",type:"text",placeholder:"Ingrese el nombre","invalid-feedback":"Complete este campo",required:""},model:{value:e.item_med.nombre,callback:function(t){e.$set(e.item_med,"nombre",t)},expression:"item_med.nombre"}})],1),a("b-form-group",{attrs:{label:"*Presentacion"}},[a("b-form-textarea",{attrs:{id:"presentacion",type:"text",placeholder:"Describa la presentacion","invalid-feedback":"Complete este campo",required:"",rows:"3","max-rows":"6"},model:{value:e.item_med.presentacion,callback:function(t){e.$set(e.item_med,"presentacion",t)},expression:"item_med.presentacion"}})],1),a("b-form-group",{attrs:{label:"*Laboratorio"}},[a("b-form-input",{attrs:{id:"laboratorio",type:"text",placeholder:"Ingrese el nombre","invalid-feedback":"Complete este campo",required:""},model:{value:e.item_med.laboratorio,callback:function(t){e.$set(e.item_med,"laboratorio",t)},expression:"item_med.laboratorio"}})],1),a("b-form-group",{attrs:{label:"*Farmacia"}},[a("b-form-select",{attrs:{id:"cod_farmacia",type:"text",placeholder:"Ingrese un Numero","invalid-feedback":"Complete este campo",required:"",options:e.options},model:{value:e.item_med.cod_farmacia,callback:function(t){e.$set(e.item_med,"cod_farmacia",t)},expression:"item_med.cod_farmacia"}})],1)],1),a("b-button",{staticClass:"mt-2",attrs:{variant:"success",block:""},on:{click:function(t){return e.putMedicamento()}}},[e._v("Guardar")])],1)},p=[],h=a("bc3a"),v=a.n(h),_={props:{item_med:{}},data:function(){return{farmacias:{},data:{},options:[{value:null,text:"Elija una farmacia",disabled:!0}]}},created:function(){this.getFarmacias()},methods:{getFarmacias:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new l["a"],a.apiUrl.pathname="farmacias/",t.next=4,a.getData(e.farmacias);case 4:e.data=t.sent,e.data.forEach((function(t){var a={};a.value="http://localhost:8081/farmacias/"+t.cod_farmacia+"/",a.text=t.farmacia,console.log(a),e.options.push(a)}));case 6:case"end":return t.stop()}}),t)})))()},putMedicamento:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.put("http://localhost:8081/medicamentos/"+e.item_med.id_medicamento+"/",e.item_med);case 3:e.item_med=t.sent,swal("Operación Exitosa"," ","success"),console.log(e.item_med),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),swal("¡ERROR!","Se ha detectado un problema ","error"),console.log(t.t0);case 12:return t.prev=12,location.href="/medicamentos",t.finish(12);case 15:case 16:case"end":return t.stop()}}),t,null,[[0,8,12,15]])})))()}}},g=_,w=Object(m["a"])(g,f,p,!1,null,null,null),k=w.exports,x=a("6480"),y=new URL("http://localhost");y.pathname="medicamentos",y.port=8081;var C={components:{MedicamentoAlta:b,MedicamentoUpdate:k,VueHtml2pdf:x["a"]},data:function(){return{tabla_med:[],fields:[{key:"selected",label:"Seleccionar",sortable:!0},{key:"id_medicamento",label:"ID",sortable:!0},{key:"nombre",label:"Nombre",sortable:!0},{key:"presentacion",label:"Presentacion",sortable:!0},{key:"laboratorio",label:"Laboratorio",sortable:!0},{key:"cod_farmacia",label:"Farmacia",sortable:!0},{key:"action",label:"Acciones",variant:"secondary"}],editar:{},buscar:"",selected:[],infoEliminar:{id:"modal_eliminar",medicamento:-1},btn_down_pdf:!0,btn_del_full:!0,msj_tabla:" Presione 'Mostrar' para ver los regitros ",btn_mostrar:!1,btn_editar:!1,btn_eliminar:!1,btn_select:!1,btn_limpiar:!0}},computed:{rows:function(){return this.tabla_med.length}},methods:{testFetch:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(y);case 3:return a=t.sent,t.next=6,a.json();case 6:i=t.sent,n=i.results,console.log(n),e.tabla_med=n,e.btn_down_pdf=!1,0==e.tabla_med.length&&(e.msj_tabla=" No se encuentran regitros en esta tabla "),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](0),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})))()},showModal:function(){this.$refs["my-modal"].show()},hideModal:function(){this.$refs["my-modal"].hide()},info:function(e){alert("id: "+e)},showModalinfo:function(e,t){this.infoEliminar.medicamento=e,this.showModal()},seleccionar_una:function(e){this.selected=e,this.selected.length>0?(this.btn_del_full=!1,this.btn_limpiar=!1,this.selected.length>1&&(this.btn_mostrar=!0,this.btn_editar=!0,this.btn_eliminar=!0),this.selected.length==this.rows?this.btn_select=!0:this.btn_select=!1):(this.btn_del_full=!0,this.btn_mostrar=!1,this.btn_editar=!1,this.btn_eliminar=!1,this.btn_limpiar=!0)},seleccionar_todas:function(){this.$refs.tablaregistros.selectAllRows(),this.btn_del_full=!1,this.btn_mostrar=!0,this.btn_editar=!0,this.btn_eliminar=!0,this.btn_select=!0,this.btn_limpiar=!1},limpiar_seleccion:function(){this.$refs.tablaregistros.clearSelected(),this.btn_del_full=!0,this.btn_mostrar=!1,this.btn_editar=!1,this.btn_eliminar=!1,this.btn_select=!1,this.btn_limpiar=!0},generarPDF:function(){0!=this.tabla_med.length?this.$refs.html2Pdf.generatePdf():swal("Debe tener al menos 1 registro")},altaMedicamento:function(){},editarMedicamento:function(e,t){this.editar=e},deleteMedicamento:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:v.a.delete("http://localhost:8081/medicamentos/"+e+"/").then((function(e){swal("Eliminacion Exitosa"," ","success"),console.log(e),t.hideModal()})).catch((function(e){swal("¡ERROR!","Se ha detectado un problema ","error"),console.log(e),t.hideModal()})).finally((function(){return t.testFetch()}));case 1:case"end":return a.stop()}}),a)})))()},delete_all_Medicamentos:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.selected.length,t.prev=1,i=0;case 3:if(!(i<a)){t.next=11;break}if(v.a.delete("http://localhost:8081/medicamentos/"+e.selected[i].id_medicamento+"/"),0!=e.selected.length){t.next=8;break}return console.log("Eliminacion Exitosa"),t.abrupt("break",11);case 8:i++,t.next=3;break;case 11:e.hideModal(),swal("Eliminacion Exitosa"," ","success"),t.next=20;break;case 15:t.prev=15,t.t0=t["catch"](1),e.hideModal(),swal("¡ERROR!","Se ha detectado un problema ","error"),console.log(t.t0);case 20:return t.prev=20,e.testFetch(),t.finish(20);case 23:case"end":return t.stop()}}),t,null,[[1,15,20,23]])})))()},buscarnow:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i,n,r,o,s,l,c,d,m,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(a=e.$refs.buscadorlista,i=a.value.toUpperCase(),n=document.getElementById("tablaregistros"),r=n.getElementsByTagName("tr"),s=1;s<r.length;s++)o=r[s].getElementsByTagName("td"),c=o[0].textContent||o[0].innerText,d=o[1].textContent||o[1].innerText,m=o[3].textContent||o[3].innerText,u=o[4].textContent||o[4].innerText,l=c+d+m+u,l.toUpperCase().indexOf(i)>-1?r[s].style.display="":r[s].style.display="none";case 5:case"end":return t.stop()}}),t)})))()},beforeDownload:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.html2pdf,i=e.options,n=e.pdfContent,t.next=3,a().set(i).from(n).toPdf().get("pdf").then((function(e){for(var t=e.internal.getNumberOfPages(),a=1;a<=t;a++)e.setPage(a),e.setFontSize(10),e.setTextColor(150),e.text("Página "+a+" of "+t,.88*e.internal.pageSize.getWidth(),e.internal.pageSize.getHeight()-.3)})).save();case 3:case"end":return t.stop()}}),t)})))()}},beforeMount:function(){this.testFetch()}},E=C,M=(a("e8f4"),Object(m["a"])(E,i,n,!1,null,"c077a8c4",null));t["default"]=M.exports}}]);
//# sourceMappingURL=chunk-01f7f9b2.879b4229.js.map